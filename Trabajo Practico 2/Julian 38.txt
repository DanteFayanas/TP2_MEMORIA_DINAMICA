#include <stdio.h>
#include <stdlib.h>
#include <math.h>

#define deltaX 5
#define theta (3.1416/180)

typedef struct cola_{
    char vt;
    struct cola_ *left, *right;
}cola_t;

char muestreo(char);

int main()
{
    char k=0, i=0;
    cola_t *p, *u, *aux, *r;
    p = u = NULL;
    for(i = 0; i <= 90; i += deltaX)
    {
        aux = (cola_t*) malloc(sizeof(cola_t));
        aux->vt = muestreo(i);
        if(!p)
        {
            p = u = aux;
            aux->right = aux->left = NULL;
        }
        else
        {
            u->right = aux;
            aux->right = NULL;
            aux->left = u;
            u = aux;
        }
        k++;
    }
    k = 1;
    for(aux = p; aux; aux = aux->right)
    {
        printf("Muestra Nro. %d: v = %d\n", k, aux->vt);
        k++;
    }
    for(aux = u->left; aux; aux = aux->left)
    {
        printf("Muestra Nro. %d: v = %d\n", k, aux->vt);
        k++;
    }
    for(aux = p->right; aux; aux = aux->right)
    {
        printf("Muestra Nro. %d: v = %d\n", k, (-1) * aux->vt);
        k++;
    }
    for(aux = u->left; aux; aux = aux->left)
    {
        printf("Muestra Nro. %d: v = %d\n", k, (-1) * aux->vt);
        k++;
    }
    return 0;
}

char muestreo(char x)
{
    return (x == 90)? 127 : (char) (sin(x*theta)*127);
}